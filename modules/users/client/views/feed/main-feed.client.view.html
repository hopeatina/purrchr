<div class="container " ng-controller="MainFeedController" layout-fill role="main">
  <!--<md-button class="md-fab md-fab-bottom-right" aria-label="Add" style="position: fixed">-->

  <!--</md-button>-->
  <!--<joystick class="joystick" position="pos"></joystick>-->

  <!--<p>{{pos.x}}, {{pos.y}}</p>&lt;!&ndash;&ndash;&gt;-->
  <div layout="row" layout-align="end">
    <div ng-if="dataUpTo"><h2>Showing {{stream.length}} tweets from {{recentPeeps.length}} users since {{dataUpTo}}</h2>
    </div>
  </div>
  <md-button class="md-raised md-alert" ng-if="QueueCount > 0" ng-click="updateFeed()">{{QueueCount}} New Tweets
  </md-button>
  <!--<div layout="row" layout-align="center">-->
  <!--<md-progress-circular md-mode="{{modes[4]}}" md-diameter="20"></md-progress-circular>-->
  <!--</div>-->
  <div layout="row" layout-align="end">
    <md-button ng-click="goPerUser()">REFRESH HOME TIMELINE</md-button>
    <md-select ng-model="sortOptionSelected" placeholder="Sort By:">
      <md-option ng-repeat="option in sortOptions" value="{{option.value}}">
        {{option.name}}
      </md-option>
    </md-select>
  </div>
  <div ng-if="recentPeeps" ng-repeat="person in recentPeeps | orderBy : sortOptionSelected "
       class="" ng-controller="SingleTweetCtrl">
    <!---->
    <!--| 'orderBy : '-tweets.length"-->
    <md-card class=" usercard">
      <md-card-content class="">
        <div class="" layout="row" layout-align="space-around center">
          <div flex="33" layout="column" layout-align="center center" class="">
            <img class="md-avatar-icon" ng-if="person" src="{{person.user.profile_image_url}}">
          </div>
          <div flex="45" layout="column" layout-align="center center" class="">
            <span class="md-title">{{person.user.name}}</span>
            <span class="md-subhead">@{{person.user.screen_name}}</span>
          </div>

          <div flex="33" layout="column" layout-align="center center">
            <div>{{person.tweets.length}}</div>
            <div> Tweets</div>
          </div>
        </div>
        <div flex layout="row" layout-align="center" class="">
          <div ng-hide="tweetsCollapsed" timeline data="person.tweets" options="timelineConfig"></div>
        </div>
        <div flex layout="row" layout-align="center center" class="">
          <!--class="animated rotateOutDownLeft"-->
          <md-button ng-click="toggleTweets()">View All Tweets</md-button>
        </div>
        <div ng-show="tweetsCollapsed" layout="row" layout-align="center center">
          <div timeline data="person.tweets" options="timelineConfig"
               style="width:auto;height: auto;"></div>
          <div layout="column" layout-align="space-around start">
            <div layout="row" ng-repeat="ptweet in person.tweets">
              {{ptweet.name}}, {{ptweet.date}}
            </div>
          </div>
          <!--class="animated fadeInRight"-->
        </div>
      </md-card-content>
    </md-card>
  </div>
  <!--<div ng-if="stream" ng-repeat="tweet in stream"><img src="{{tweet.user.profile_image_url}}">{{tweet.user.name}},-->
  <!--@{{tweet.user.screen_name}},{{tweet.created_at}} : {{tweet.text}}-->
  <!--</div>-->
</div>
